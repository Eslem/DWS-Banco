
<div class="container-fluid">
    <h2>{{buttonText}} Cuenta</h2>
    <hr/>

    <form class="form-horizontal" role="form" name="formCuenta">

        <div class="form-group">
            <label class="col-sm-2 control-label" for="id">Id</label>
            <div class="col-sm-8">
                <input id="id" type="text" class="form-control" placeholder="id" ng-model="cuenta.idCuenta" disabled>
            </div>
        </div>

        <!--  <div class="form-group">
              <label class="col-sm-2 control-label" for="sucursal">Sucursal</label>
              <div class="col-sm-8">
                  <input id="saldo" type="double" class="form-control" placeholder="Saldo" ng-model="cuenta.saldoCuenta" min:0 >
              </div>
          </div>-->

        <div class="form-group">
            <label class="col-sm-2 control-label" for="sucursal">Usuario</label>
            <div class="col-sm-8">
                <input id="sucursal" type="text" class="form-control" placeholder="ID Sucursal" ng-model="cuenta.idSucursal" required name="campoSucursal"> 
                <input id="clienteCuenta" type="text" class="form-control" placeholder="usuario" ng-model="cuenta.clienteCuenta" required name="campoCuentaCliente">
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label" for="saldo">Saldo Cuenta</label>
            <div class="col-sm-8">
                <input id="saldo" type="number" class="form-control" placeholder="saldo" ng-model="cuenta.saldoCuenta" required min="1" name="campoSaldo">
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label" for="tipo">Tipo</label>
            <div class="col-sm-8">


                <select id="tipo" ng-model="cuenta.tipoCuenta" class="form-control" required name="campoTipo">
                    <option selected>-- Eliga una opcion --</option>
                    <option value="Corriente" >Corriente</option>
                    <option value="Ahorro">Ahorro</option>
                </select>
            </div>
        </div>

        <div class="formErrors">
            <div ng-repeat="error in errors">
                <span class="source">"{{error.fieldName}}"</span><span> {{error.message}}</span>
            </div>
        </div>


        <div  ng-show="formCuenta.$invalid && mostrarErrores" class="formErrors">

            <span class="source" ng-show="formCuenta.campoSucursal.$error.required"><span>SUCURSAL BANCARIA: Campo requerido</span></span>
            <span class="source" ng-show="formCuenta.campoCuentaCliente.$error.required"><span>CUENTA CLIENTE: Campo requerido</span></span>
            <span class="source"ng-show="formCuenta.campoSaldo.$error.required"><span>SALDO: Campo requerido</span></span>
            <span class="source" ng-show="formCuenta.campoSaldo.$error.min" ><span>SALDO: Valor incorrecto (minimo = 0)</span></span>
            <span class="source" ng-show="formCuenta.campoTipo.$error.required"><span>TIPO DE CUENTA: Campo requerido</span></span>

        </div>
        
        <div align="center">
            <button ng-click="formSend();" class="btn btn-primary">{{buttonText}}</button>
        </div>

        <br/>

        <button ng-click="crearMovimiento()" ng-show="{{mostrar}}" class="btn btn-primary pull-right margin-small">
            <i class="fa fa-plus"></i> AÃ±adir
        </button>

        <table ng-show="{{mostrar}}" class="table table-striped table-hover table-bordered table-shadow">
            <tr>
                <th>Saldo</th>
                <th>Id Sucursal</th>
                <th>Tipo</th>
                <th>Fecha</th>
                <th>Acciones</th>
            </tr>
            <tr ng-repeat="movimiento in movimientos">
                <td>{{movimiento.tipo}}</td>
                <td>{{movimiento.concepto}}</td>
                <td>{{movimiento.cantidad}}</td>
                <td>{{movimiento.fecha| date: "dd/MM/yyyy"}}</td>
                <td class="actions">
                    <button type="button" ng-click="borrarMovimiento(movimiento.id)" class="btn btn-danger"><i class="fa fa-trash"></i></button>
                </td>
            </tr>
        </table>

    </form>
</div>
